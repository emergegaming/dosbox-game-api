{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["interface GameOptions {\n    cycles: number,\n    zipFile: string\n    execCmd: string\n}\n\nexport class DosGame {\n\n    dosRef: any;\n    options: GameOptions;\n    canvas: HTMLCanvasElement\n    ci: any\n\n    constructor(dosRef, options, canvas) {\n        this.dosRef = dosRef;\n        this.options = options\n        this.canvas = canvas;\n        console.log (\"a\", this.options)\n    }\n\n    start = () => new Promise((resolve, reject):any => {\n        console.log (\"b\", this.options);\n        this.dosRef(this.canvas, {\n            cycles: this.options.cycles,\n            wdosboxUrl: '/dosbox/wdosbox.js',\n            onprogress: () => {},\n            log: () => {}\n        }).ready((fs, main) => {\n            fs.extract(this.options.zipFile).then(() => {\n                main([\"-c\", this.options.execCmd]).then((ci) => {\n                    this.ci = ci;\n                    resolve(ci);\n                })\n            });\n        });\n    })\n\n}\n"],"names":["dosRef","options","canvas","this","Promise","resolve","reject","console","log","_this","cycles","wdosboxUrl","onprogress","ready","fs","main","extract","zipFile","then","execCmd","ci"],"mappings":"MAaI,SAAYA,EAAQC,EAASC,GAA7B,WAOAC,WAAQ,WAAM,OAAA,IAAIC,SAAQ,SAACC,EAASC,GAChCC,QAAQC,IAAK,IAAKC,EAAKR,SACvBQ,EAAKT,OAAOS,EAAKP,OAAQ,CACrBQ,OAAQD,EAAKR,QAAQS,OACrBC,WAAY,qBACZC,WAAY,aACZJ,IAAK,eACNK,OAAM,SAACC,EAAIC,GACVD,EAAGE,QAAQP,EAAKR,QAAQgB,SAASC,MAAK,WAClCH,EAAK,CAAC,KAAMN,EAAKR,QAAQkB,UAAUD,MAAK,SAACE,GACrCX,EAAKW,GAAKA,EACVf,EAAQe,gBAjBpBjB,KAAKH,OAASA,EACdG,KAAKF,QAAUA,EACfE,KAAKD,OAASA,EACdK,QAAQC,IAAK,IAAKL,KAAKF"}